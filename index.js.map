{"version":3,"file":"index.js","sources":["../src/js/consts.js","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  form: document.querySelector('.js-search-form'),\n  gallery: document.querySelector('.js-gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst KEY = '49310743-65b3f3ce2dd3324f0da11ae2e';\nconst BASE_URL = 'https://pixabay.com';\nconst ENDPOINT = 'api';\nconst ACTIVE_CLASS = 'active';\n\nconst lightbox = new SimpleLightbox('.js-gallery a', {\n  captionsData: 'alt', // Use the alt attribute of images for captions\n  captionDelay: 250, // Delay in milliseconds before showing the caption\n});\n\nexport { refs, KEY, BASE_URL, ENDPOINT, ACTIVE_CLASS, lightbox };\n","function createCardsMarkup(photos) {\n  return photos\n    .map(\n      photo =>\n        `<li class=\"gallery-item\">\n              <a href=\"${photo.largeImageURL}\"><img class=\"gallery-img\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\"/></a>\n              <ul class=\"gallery-item-desc\">\n                <li>\n                  <h3>Likes</h3>\n                  <p>${photo.likes}</p>\n                </li>\n                <li>\n                  <h3>Views</h3>\n                  <p>${photo.views}</p>\n                </li>\n                <li>\n                  <h3>Comments</h3>\n                  <p>${photo.comments}</p>\n                </li>\n                <li>\n                  <h3>Downloads</h3>\n                  <p>${photo.downloads}</p>\n                </li>\n              </ul>\n        </li>`\n    )\n    .join('');\n}\n\nexport { createCardsMarkup };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport {\n  refs,\n  BASE_URL,\n  ENDPOINT,\n  KEY,\n  ACTIVE_CLASS,\n  lightbox,\n} from './consts';\nimport { createCardsMarkup } from './render-functions';\n\nconst handlerForm = event => {\n  event.preventDefault();\n  const form = event.currentTarget;\n  const query = form.elements.request.value.trim();\n  if (query === '') {\n    iziToast.show({\n      title: 'Error',\n      message: 'You entered an empty string',\n      position: 'topRight',\n    });\n    return;\n  }\n  refs.loader.classList.add(ACTIVE_CLASS);\n  getPhotos(query)\n    .then(photos => {\n      refs.loader.classList.remove(ACTIVE_CLASS);\n      if (photos.total === 0) {\n        iziToast.show({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        refs.gallery.innerHTML = '';\n        return;\n      }\n      refs.gallery.innerHTML = createCardsMarkup(photos.hits);\n      lightbox.refresh();\n    })\n    .catch(err => {\n      refs.loader.classList.remove(ACTIVE_CLASS);\n      console.log(err);\n    })\n    .finally(() => {\n      form.reset();\n    });\n};\n\nfunction getPhotos(query) {\n  const SearchParams = new URLSearchParams({\n    key: KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}/${ENDPOINT}/?${SearchParams}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n\nexport { handlerForm };\n","import { handlerForm } from './js/pixabay-api';\nimport { refs } from './js/consts';\n\nrefs.form.addEventListener('submit', handlerForm);\n"],"names":["refs","KEY","BASE_URL","ENDPOINT","ACTIVE_CLASS","lightbox","SimpleLightbox","createCardsMarkup","photos","photo","handlerForm","event","form","query","iziToast","getPhotos","err","SearchParams","res"],"mappings":"6vBAGA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,iBAAiB,EAC9C,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAM,qCACNC,EAAW,sBACXC,EAAW,MACXC,EAAe,SAEfC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,ECjBD,SAASC,EAAkBC,EAAQ,CACjC,OAAOA,EACJ,IACCC,GACE;AAAA,yBACiBA,EAAM,aAAa,mCAAmCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,uBAI9FA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,uBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAItC,EACK,KAAK,EAAE,CACZ,CCfA,MAAMC,EAAcC,GAAS,CAC3BA,EAAM,eAAgB,EACtB,MAAMC,EAAOD,EAAM,cACbE,EAAQD,EAAK,SAAS,QAAQ,MAAM,KAAM,EAChD,GAAIC,IAAU,GAAI,CAChBC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACJ,CACEd,EAAK,OAAO,UAAU,IAAII,CAAY,EACtCW,EAAUF,CAAK,EACZ,KAAKL,GAAU,CAEd,GADAR,EAAK,OAAO,UAAU,OAAOI,CAAY,EACrCI,EAAO,QAAU,EAAG,CACtBM,EAAS,KAAK,CACZ,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACDd,EAAK,QAAQ,UAAY,GACzB,MACR,CACMA,EAAK,QAAQ,UAAYO,EAAkBC,EAAO,IAAI,EACtDH,EAAS,QAAS,CACnB,CAAA,EACA,MAAMW,GAAO,CACZhB,EAAK,OAAO,UAAU,OAAOI,CAAY,EACzC,QAAQ,IAAIY,CAAG,CAChB,CAAA,EACA,QAAQ,IAAM,CACbJ,EAAK,MAAO,CAClB,CAAK,CACL,EAEA,SAASG,EAAUF,EAAO,CACxB,MAAMI,EAAe,IAAI,gBAAgB,CACvC,IAAKhB,EACL,EAAGY,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGX,CAAQ,IAAIC,CAAQ,KAAKc,CAAY,EAAE,EAAE,KAAKC,GAAO,CACnE,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,KAAM,CACrB,CAAG,CACH,CC7DAlB,EAAK,KAAK,iBAAiB,SAAUU,CAAW"}