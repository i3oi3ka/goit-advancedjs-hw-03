{"version":3,"file":"index.js","sources":["../src/js/consts.js","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.js-search-form'),\n  gallery: document.querySelector('.js-gallery'),\n  loader: document.querySelector('.js-loader'),\n};\n\nconst KEY = '49310743-65b3f3ce2dd3324f0da11ae2e';\nconst BASE_URL = 'https://pixabay.com';\nconst ENDPOINT = 'api';\nconst ACTIVE_CLASS = 'active';\n\nexport { refs, KEY, BASE_URL, ENDPOINT, ACTIVE_CLASS };\n","function createCardsMarkup(photos) {\n  console.log(photos);\n  return photos\n    .map(\n      photo =>\n        `<li class=\"gallery-item\">\n              <a href=\"${photo.largeImageURL}\"><img class=\"gallery-img\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\"/></a>\n              <ul class=\"gallery-item-desc\">\n                <li>\n                  <h3>Likes</h3>\n                  <p>${photo.likes}</p>\n                </li>\n                <li>\n                  <h3>Views</h3>\n                  <p>${photo.views}</p>\n                </li>\n                <li>\n                  <h3>Comments</h3>\n                  <p>${photo.comments}</p>\n                </li>\n                <li>\n                  <h3>Downloads</h3>\n                  <p>${photo.downloads}</p>\n                </li>\n              </ul>\n        </li>`\n    )\n    .join('');\n}\n\nexport { createCardsMarkup };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { refs, BASE_URL, ENDPOINT, KEY, ACTIVE_CLASS } from './consts';\nimport { createCardsMarkup } from './render-functions';\n\nconst handlerForm = event => {\n  event.preventDefault();\n  const form = event.currentTarget;\n  const query = form.elements.request.value.trim();\n  console.log(query);\n  if (query === '') {\n    iziToast.show({\n      title: 'Error',\n      message: 'You entered an empty string',\n      position: 'topRight',\n    });\n    return;\n  }\n  refs.loader.classList.add(ACTIVE_CLASS);\n  getPhotos(query)\n    .then(photos => {\n      refs.loader.classList.remove(ACTIVE_CLASS);\n      if (photos.total === 0) {\n        iziToast.show({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        refs.gallery.innerHTML = '';\n        return;\n      }\n      refs.gallery.innerHTML = createCardsMarkup(photos.hits);\n    })\n    .catch(err => {\n      refs.loader.classList.remove(ACTIVE_CLASS);\n      console.log(err);\n    })\n    .finally(() => {\n      form.reset();\n    });\n};\n\nfunction getPhotos(query) {\n  const SearchParams = new URLSearchParams({\n    key: KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}/${ENDPOINT}/?${SearchParams}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n\nexport { handlerForm };\n","import { handlerForm } from './js/pixabay-api';\nimport { refs } from './js/consts';\n\nconsole.log(refs.form);\nrefs.form.addEventListener('submit', handlerForm);\n"],"names":["refs","KEY","BASE_URL","ENDPOINT","ACTIVE_CLASS","createCardsMarkup","photos","photo","handlerForm","event","form","query","iziToast","getPhotos","err","SearchParams","res"],"mappings":"svBAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,iBAAiB,EAC9C,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,YAAY,CAC7C,EAEMC,EAAM,qCACNC,EAAW,sBACXC,EAAW,MACXC,EAAe,SCTrB,SAASC,EAAkBC,EAAQ,CACjC,eAAQ,IAAIA,CAAM,EACXA,EACJ,IACCC,GACE;AAAA,yBACiBA,EAAM,aAAa,mCAAmCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,uBAI9FA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,uBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAItC,EACK,KAAK,EAAE,CACZ,CCvBA,MAAMC,EAAcC,GAAS,CAC3BA,EAAM,eAAgB,EACtB,MAAMC,EAAOD,EAAM,cACbE,EAAQD,EAAK,SAAS,QAAQ,MAAM,KAAM,EAEhD,GADA,QAAQ,IAAIC,CAAK,EACbA,IAAU,GAAI,CAChBC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACJ,CACEZ,EAAK,OAAO,UAAU,IAAII,CAAY,EACtCS,EAAUF,CAAK,EACZ,KAAKL,GAAU,CAEd,GADAN,EAAK,OAAO,UAAU,OAAOI,CAAY,EACrCE,EAAO,QAAU,EAAG,CACtBM,EAAS,KAAK,CACZ,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACDZ,EAAK,QAAQ,UAAY,GACzB,MACR,CACMA,EAAK,QAAQ,UAAYK,EAAkBC,EAAO,IAAI,CACvD,CAAA,EACA,MAAMQ,GAAO,CACZd,EAAK,OAAO,UAAU,OAAOI,CAAY,EACzC,QAAQ,IAAIU,CAAG,CAChB,CAAA,EACA,QAAQ,IAAM,CACbJ,EAAK,MAAO,CAClB,CAAK,CACL,EAEA,SAASG,EAAUF,EAAO,CACxB,MAAMI,EAAe,IAAI,gBAAgB,CACvC,IAAKd,EACL,EAAGU,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGT,CAAQ,IAAIC,CAAQ,KAAKY,CAAY,EAAE,EAAE,KAAKC,GAAO,CACnE,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,KAAM,CACrB,CAAG,CACH,CCtDA,QAAQ,IAAIhB,EAAK,IAAI,EACrBA,EAAK,KAAK,iBAAiB,SAAUQ,CAAW"}